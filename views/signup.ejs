<% include partials/header %>

<div class="spacer"></div><div class="spacer"></div>

<div class="ui inverted text container center aligned main">
    
    <h2 class="ui header">Sign Up</h2>
    
    <div class="ui left aligned container">
        <form name="myForm" class="ui form" action="/register" method="POST">
            <!--above: onsubmit="return validateForm()"-->
            <div class="field">
                <input type="text" placeholder="username" name="username" autofocus>
            </div>
            <div class="field">
                <input type="password" placeholder="password" name="password">
            </div>
            <div class="field">
                <input type="password" placeholder="repeat password" name="password2">
            </div>
            <button class="ui basic green button">Sign Up</button>
            <a href="/login">Or log in instead</a>
            <div class="ui error message"></div>
        </form>
        <div class="ui hidden divider"></div>
        <p style="color: red; text-align: center">This site is currently in beta. Some features may be broken or missing. 
        <br>Anonymous data may be collected but will never be sold or shared. We do not collect personally identifiable data.
        <br>Still, since the app may be unstable or insecure, please avoid submiting any senstitive or important information while the app is in beta.</p>
    </div>
</div>

<script>
// function validateForm() {
//   var x = document.forms["myForm"]["username"].value;
//   if (x == "") {
//     alert("Name must be filled out");
//     return false;
//   }
// }
$('.ui.form')
    .form({
        fields: {
            username: {
                identifier: 'username',
                rules: [
                    {
                        type   : 'empty',
                        prompt : 'Please enter a username'
                    }
                ]
            },
            password: {
                identifier: 'password',
                rules: [
                    {
                        type   : 'empty',
                        prompt : 'Please enter a password'
                    },
                    {
                        type: 'match[password2]',
                        prompt: "Passwords must match"
                    }
                ]
            }
        }
    })
;

</script>
